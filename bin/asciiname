#!/bin/sh

if [ -z "$1" ]; then
  echo "A parameterkent atadott allomanynevbol kiveszi a nem ASCII karaktereket."
  echo "A szokozoket atkonvertalja alahuzasokra."
  echo "Hasznalat: `basename $0` allomanynev\n"
  exit;
fi;

acname=`basename "$1"`
dirname=`dirname "$1"`

aaname=`echo $acname | sed -e "s/á/a/g" \
    -e "s/é/e/g" \
       -e "s/í/i/g" \
       -e "s/ó/o/g" \
       -e "s/ö/o/g" \
       -e "s/ő/o/g" \
       -e "s/ú/u/g" \
       -e "s/ü/u/g" \
       -e "s/ű/u/g" \
       -e "s/Á/A/g" \
       -e "s/É/E/g" \
       -e "s/Í/I/g" \
       -e "s/Ó/O/g" \
       -e "s/Ö/O/g" \
       -e "s/Ő/O/g" \
       -e "s/Ú/U/g" \
       -e "s/Ü/U/g" \
       -e "s/Ű/U/g" \
    -e "s/,//g" \
    -e "s/(//g" \
    -e "s/)//g" \
    -e "s/\\[//g" \
    -e "s/]//g" \
    -e "s/+/p/g" \
    -e "s/\!//g" \
    -e "s/@//g" \
    -e "s/~/_/g" \
    -e "s/\\.\\+/./g" \
    -e "s/?//g" \
       -e "s/ /_/g"`
asname=`echo $aaname | tr "[:upper:]" "[:lower:]"`

echo "$dirname/$asname"
